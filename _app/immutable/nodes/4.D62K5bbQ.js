import{a as c,t as _,b as j}from"../chunks/f5n_e-Ui.js";import{i as L}from"../chunks/QDngJ3kH.js";import{q as T,t as C,s as E,w as h,x as g,A as b,y as o,v as N,j as z,z as w,B as D}from"../chunks/BuROYT70.js";import{c as O,o as Q}from"../chunks/B6XXqun_.js";import{s as V}from"../chunks/CQOcXfba.js";import{p as $,i as W}from"../chunks/B9VYZ12Z.js";import{I as x,a as M,B as X,b as I,c as q,A as Y,d as Z,r as ee}from"../chunks/Dr1lWc9G.js";import{g as re}from"../chunks/B84SmGm0.js";var se=_("<!> <!>",1),te=_("<!> <!>",1),ae=_("<!> <!>",1),oe=_('<div class="form-container"><h3 class="text-center mb-4 text-primary"><span class="mr-2"><!></span> Register</h3> <div class="form-group"><!> <!> <!> <!> <!> <div class="text-center mt-3"><p class="p">Already have an account? <a href="/">Login</a>.</p></div></div></div>');function le(y,a){T(a,!1);let l=$(a,"username",12,""),n=$(a,"email",12,""),d=$(a,"password",12,""),u=$(a,"errorMessage",8,""),P=$(a,"showError",8,!1);const k=O(),A=()=>{k("submit",{username:l(),email:n(),password:d()})};L();var m=oe(),v=h(m),i=h(v),H=h(i);x(H,{icon:"mdi:lock"}),g(i),b(),g(v);var B=o(v,2),R=h(B);M(R,{class:"mb-3",children:(e,p)=>{var r=se(),s=E(r);I(s,{children:(t,U)=>{x(t,{icon:"mdi:user"})},$$slots:{default:!0}});var f=o(s,2);q(f,{type:"text",placeholder:"Username",class:"form-control",required:!0,get value(){return l()},set value(t){l(t)},$$legacy:!0}),c(e,r)},$$slots:{default:!0}});var F=o(R,2);M(F,{class:"mb-3",children:(e,p)=>{var r=te(),s=E(r);I(s,{children:(t,U)=>{x(t,{icon:"mdi:email"})},$$slots:{default:!0}});var f=o(s,2);q(f,{type:"email",placeholder:"Email",class:"form-control",required:!0,get value(){return n()},set value(t){n(t)},$$legacy:!0}),c(e,r)},$$slots:{default:!0}});var G=o(F,2);M(G,{class:"mb-3",children:(e,p)=>{var r=ae(),s=E(r);I(s,{children:(t,U)=>{x(t,{icon:"mdi:lock"})},$$slots:{default:!0}});var f=o(s,2);q(f,{type:"password",placeholder:"Password",class:"form-control",required:!0,get value(){return d()},set value(t){d(t)},$$legacy:!0}),c(e,r)},$$slots:{default:!0}});var S=o(G,2);X(S,{color:"primary",block:!0,$$events:{click:A},children:(e,p)=>{b();var r=j("Register");c(e,r)},$$slots:{default:!0}});var J=o(S,2);{var K=e=>{Y(e,{color:"danger",class:"mt-3",children:(p,r)=>{b();var s=j();N(()=>V(s,u())),c(p,s)},$$slots:{default:!0}})};W(J,e=>{P()&&e(K)})}b(2),g(B),g(m),c(y,m),C()}var ne=_("<div><!></div>");function $e(y,a){T(a,!1);let l=D(""),n=D(!1);Q(()=>{Z()});const d=async k=>{const{username:A,email:m,password:v}=k.detail;try{const i=await ee(A,m,v);w(l,i),w(n,!1),re("/")}catch(i){w(l,i instanceof Error?i.message:"Une erreur inconnue s'est produite"),w(n,!0)}};L();var u=ne(),P=h(u);le(P,{username:"",email:"",password:"",get errorMessage(){return z(l)},get showError(){return z(n)},$$events:{submit:d}}),g(u),c(y,u),C()}export{$e as component};
